<p-toast ></p-toast>
<div class="fondo_componente" style="padding: 20px; box-shadow: 0 2px 0px 0 rgb(0 0 0 / 12%), inset 0 -1px 0 0 #dadce0; ">
    <div style="padding: 50px;">
        <div class="row" >
            <div class="col-lg-12">
                <p class="tarjeta-titulo"> Planificación de entregas </p>
            </div>
        </div>

        <p-table #dt [value]="lista_entrega" dataKey="id_entrega"
                [rows]="10" 
                [loading]="loading" 
                styleClass="p-datatable-lista_entrega"
                [paginator]="true" 
                [filterDelay]="0" 
                [responsive]="true"
                [globalFilterFields]="['descripcion_geocerca','detalle_entrega','estado_entrega','nombre_geocerca','origen_entrega']"
                [rowHover]="true"
                >

                <ng-template pTemplate="caption">
                    <div class="row" >
                        <div class="col-lg-6" style="padding: 0px;margin: 0px;">
                              <button   pTooltip="Nuevo" tooltipPosition="top"  type="button" class="btn IconoEfecto transparente" (click)="FormularioEntrega(0)">
                                <i style="color: #3699FF;"  class="pi pi-file-o imgzoom" ></i>
                            </button> 
<!--
                            <button  pTooltip="Editar" tooltipPosition="top" type="button"  class="btn IconoEfecto transparente" (click)="FormularioChofer(-1)">
                                <i  class="far fa-edit imgzoom" style="color: #3CA934 "></i>
                            </button>
                           <button  pTooltip="Eliminar" tooltipPosition="top"  type="button"  class="btn IconoEfecto transparente" (click)="EliminarChofer()" >
                                <i   class="far fa-trash-alt bg imgzoom"  style="color: #F64E60;"></i> 
                            </button>  -->
                        </div>
                        <div class="col-lg-6 d-flex justify-content-end">
                            <span class="p-input-icon-left">
                                <i class="pi pi-search"></i>
                                <input style="border-radius: 15px; height: 100%;height: 100%;"  pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Buscar" />
                            </span>    
                        </div>  
                    </div>
                </ng-template>

                <ng-template pTemplate="header" >
                    <tr>
                        <th>Nro</th>
                        <th pSortableColumn="placa">Vehículo<p-sortIcon field="placa"></p-sortIcon></th>
                        <th pSortableColumn="nombre_chofer">Chofer<p-sortIcon field="nombre_chofer"></p-sortIcon></th>
                        <!-- <th pSortableColumn="origen_entrega">Origen<p-sortIcon field="origen_entrega"></p-sortIcon></th>
                        <th pSortableColumn="nombre_geocerca">Destino<p-sortIcon field="nombre_geocerca"></p-sortIcon></th> -->
                        <th pSortableColumn="fecha_ini">Fecha de ruta<p-sortIcon field="fecha_ini"></p-sortIcon></th>
                        <!-- <th pSortableColumn="fecha_fin">Fecha fin<p-sortIcon field="fecha_fin"></p-sortIcon></th> -->
                        <th pSortableColumn="estado_entrega">Estado<p-sortIcon field="estado_entrega"></p-sortIcon></th>
                        <th hidden pSortableColumn="id_vehiculo">Id Vehiculo<p-sortIcon field="id_vehiculo"></p-sortIcon></th>
                        <!-- <th hidden pSortableColumn="id_usuario_geocerca_destino">Cliente<p-sortIcon field="id_usuario_geocerca_destino"></p-sortIcon></th> -->
                        <!-- <th hidden pSortableColumn="id_entrega">Id entrega<p-sortIcon field="id_entrega"></p-sortIcon></th> -->
                        <th hidden pSortableColumn="id_chofer">Id chofer<p-sortIcon field="id_chofer"></p-sortIcon></th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-lista_entrega let-rowIndex="rowIndex" >
                    <tr (click)="SeleccionarEntrega(lista_entrega)" >
                        <td scope="persw">{{rowIndex+1}}</td>
                        <td >{{lista_entrega.placa}}</td>
                        <td >{{lista_entrega.nombre_chofer}}</td>
                        <!-- <td>{{lista_entrega.origen_entrega}}</td>
                        <td>{{lista_entrega.nombre_geocerca}}</td> -->
                        <td >{{lista_entrega.fecha_ini}}</td>
                        <!-- <td >{{lista_entrega.fecha_fin}}</td> -->
                        <td>{{lista_entrega.estado_entrega}}</td>
                        <td hidden>{{lista_entrega.id_vehiculo}}</td>
                        <!-- <td hidden>{{lista_entrega.id_usuario_geocerca_destino}}</td> -->
                        <!-- <td hidden>{{lista_entrega.id_entrega}}</td> -->
                        <td hidden>{{lista_entrega.id_chofer}}</td>

                    </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td colspan="6">No hay datos para mostrar </td>
                    </tr>
                </ng-template>
        </p-table>
    </div>
</div>
