"use strict";(self.webpackChunkkolosu=self.webpackChunkkolosu||[]).push([[9707],{9707:(O,g,n)=>{n.r(g),n.d(g,{LoginModule:()=>A});var c=n(6895),l=n(6957),m=n(805),t=n(433),h=n(740),e=n(1571),v=n(8568),x=n(3975),p=n(5593),d=n(1740),f=n(3425),C=n(7772),y=n(1795),L=n(7932);const b=function(){return{width:"50px",height:"50px"}};function I(o,s){1&o&&(e.TgZ(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19),e._UZ(4,"p-progressSpinner",20),e.qZA(),e.TgZ(5,"div",21),e._uU(6,"Cargando"),e.qZA()()()()),2&o&&(e.xp6(4),e.Akn(e.DdM(2,b)))}function Z(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1," M\xe1ximo caracteres permitidos 40 "),e.qZA())}function w(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1," M\xe1ximo caracteres permitidos 40 "),e.qZA())}let M=(()=>{class o{constructor(i,r,a,u,N){this.layoutService=i,this.messageService=r,this.primengConfig=a,this.router=u,this.usuario_servicio=N,this.valCheck=["remember"],this.usuario="",this.password="",this.loading=!1}ngOnInit(){this.IniciarFormulario(),this.primengConfig.ripple=!0}IniciarSesion(){let i=new h.I;i.email=this.form.value.usuario.trim(),i.password=this.form.value.password.trim(),this.msgs1=[],this.loading=!0,this.usuario_servicio.post_iniciar_sesion(i).subscribe(r=>{localStorage.removeItem("accesos"),localStorage.setItem("accesos",JSON.stringify(r)),this.form.reset(),this.loading=!1,this.router.navigate(["/rastreo/monitoreo_vehiculo"])},r=>{this.loading=!1;try{this.error("error","Error","Usuario o contrase\xf1a incorrecta")}catch{this.error("error","Error","Contactese con el administrador")}})}CancelarSesion(){console.log("LLEGO CANCELAR")}IniciarFormulario(){console.log("LLEGO formulario"),this.form=new t.cw({usuario:new t.NI(this.usuario,[t.kI.required,t.kI.maxLength(40)]),password:new t.NI(this.password,[t.kI.required,t.kI.maxLength(40)])})}error(i,r,a){this.msgs1=[{severity:i,summary:r,detail:a}]}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(v.P),e.Y36(m.ez),e.Y36(m.b4),e.Y36(l.F0),e.Y36(x.r))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],features:[e._Bn([m.ez])],decls:19,vars:11,consts:[[1,"surface-ground","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"flex","flex-column","align-items-center","justify-content-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"],[1,"surface-card","py-8","px-5","sm:px-8",2,"border-radius","53px"],[1,"mb-5","flex","flex-column","align-items-center","justify-content-center"],["alt","kolosu-logo",1,"mb-5","w-15rem","flex-shrink-0",3,"src"],[1,"text-900","text-2xl","font-medium"],[3,"value","enableService","valueChange"],[3,"formGroup","submit"],["class","flex flex-column align-items-center loading-indicator ",4,"ngIf"],[1,"flex","flex-column","align-items-center"],["formControlName","usuario","type","text","placeholder","Correo","pInputText","",1,"w-full","md:w-30rem","mb-5",2,"padding","1rem"],[4,"ngIf"],["formControlName","password","placeholder","Contrase\xf1a","styleClass","mb-5","inputStyleClass","p-3 md:w-30rem",3,"toggleMask","feedback"],["pButton","","pRipple","","label","Iniciar sesi\xf3n","type","submit",1,"max-width:","100%;","w-full","p-3","text-xl",3,"disabled"],["pButton","","pRipple","","type","button","label","Cancelar",1,"w-full","p-3","text-xl","p-button-secondary",3,"routerLink"],[1,"flex","flex-column","align-items-center","loading-indicator"],[1,"flex","flex-column","card-container","green-container"],[1,"loading-border"],[1,"flex","align-items-center","justify-content-center","h-4rem"],["styleClass","custom-spinner","strokeWidth","10","animationDuration",".5s"],[1,"loading-text","flex","align-items-center","justify-content-center","h-4rem"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"span",6),e._uU(7,"Inicia sesi\xf3n para continuar"),e.qZA()(),e.TgZ(8,"p-messages",7),e.NdJ("valueChange",function(u){return r.msgs1=u}),e.qZA(),e.TgZ(9,"form",8),e.NdJ("submit",function(){return r.IniciarSesion()}),e.YNc(10,I,7,3,"div",9),e.TgZ(11,"div",10),e._UZ(12,"input",11),e.YNc(13,Z,2,0,"span",12),e._UZ(14,"p-password",13),e.YNc(15,w,2,0,"span",12),e._UZ(16,"button",14)(17,"br")(18,"button",15),e.qZA()()()()()()),2&i&&(e.xp6(5),e.MGl("src","assets/logos/","light"===r.layoutService.config.colorScheme?"logo-dark2":"logo-white2",".png",e.LSH),e.xp6(3),e.Q6J("value",r.msgs1)("enableService",!1),e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(1),e.Q6J("ngIf",r.loading),e.xp6(3),e.Q6J("ngIf",null==r.form.controls.usuario.errors?null:r.form.controls.usuario.errors.maxlength),e.xp6(1),e.Q6J("toggleMask",!0)("feedback",!1),e.xp6(1),e.Q6J("ngIf",null==r.form.controls.password.errors?null:r.form.controls.password.errors.maxlength),e.xp6(1),e.Q6J("disabled",r.form.invalid),e.xp6(2),e.Q6J("routerLink","/"))},dependencies:[c.O5,l.rH,p.Hq,d.o,t._Y,t.Fj,t.JJ,t.JL,f.ro,C.V,y.H,L.G,t.sg,t.u],styles:['[_nghost-%COMP%]     .pi-eye, [_nghost-%COMP%]     .pi-eye-slash{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}.loading-indicator[_ngcontent-%COMP%]{position:fixed;z-index:999;height:2em;width:2em;overflow:show;margin:auto;inset:0}.loading-indicator[_ngcontent-%COMP%]:before{content:"";display:block;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000096}.loading-text[_ngcontent-%COMP%]{color:#000!important}.loading-border[_ngcontent-%COMP%]{background-color:#fff;width:310px;height:150px;z-index:998;padding:20px;border-radius:5px;border:0}']}),o})(),J=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.Bz.forChild([{path:"",component:M}]),l.Bz]}),o})();var S=n(1989),T=n(6604);let A=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,J,p.hJ,S.nD,d.j,t.u5,f.gz,T.W,t.UX]}),o})()}}]);