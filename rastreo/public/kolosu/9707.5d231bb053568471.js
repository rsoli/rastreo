"use strict";(self.webpackChunkkolosu=self.webpackChunkkolosu||[]).push([[9707],{9707:(A,p,n)=>{n.r(p),n.d(p,{LoginModule:()=>T});var u=n(6895),l=n(6957),m=n(805),i=n(433),h=n(740),o=n(1571),x=n(8568),v=n(3975),d=n(5593),c=n(1740),f=n(3425),C=n(7772),y=n(1795),b=n(7932);const w=function(){return{width:"50px",height:"50px"}};function L(e,s){1&e&&(o.TgZ(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19),o._UZ(4,"p-progressSpinner",20),o.qZA(),o.TgZ(5,"div",21),o._uU(6,"Cargando"),o.qZA()()()()),2&e&&(o.xp6(4),o.Akn(o.DdM(2,w)))}function M(e,s){1&e&&(o.TgZ(0,"span"),o._uU(1," M\xe1ximo caracteres permitidos 40 "),o.qZA())}function I(e,s){1&e&&(o.TgZ(0,"span"),o._uU(1," M\xe1ximo caracteres permitidos 40 "),o.qZA())}let Z=(()=>{class e{constructor(t,r,a,g,P){this.layoutService=t,this.messageService=r,this.primengConfig=a,this.router=g,this.usuario_servicio=P,this.valCheck=["remember"],this.usuario="",this.password="",this.loading=!1}ngOnInit(){this.IniciarFormulario(),this.primengConfig.ripple=!0}IniciarSesion(){let t=new h.I;t.email=this.form.value.usuario.trim(),t.password=this.form.value.password.trim(),this.msgs1=[],this.loading=!0,this.usuario_servicio.post_iniciar_sesion(t).subscribe(r=>{localStorage.removeItem("accesos"),localStorage.setItem("accesos",JSON.stringify(r)),this.form.reset(),this.loading=!1,this.router.navigate(["/rastreo/monitoreo_vehiculo"])},r=>{this.loading=!1;try{this.error("error","Error","Usuario o contrase\xf1a incorrecta")}catch{this.error("error","Error","Contactese con el administrador")}})}CancelarSesion(){console.log("LLEGO CANCELAR")}IniciarFormulario(){console.log("LLEGO formulario"),this.form=new i.cw({usuario:new i.NI(this.usuario,[i.kI.required,i.kI.maxLength(40)]),password:new i.NI(this.password,[i.kI.required,i.kI.maxLength(40)])})}error(t,r,a){this.msgs1=[{severity:t,summary:r,detail:a}]}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(x.P),o.Y36(m.ez),o.Y36(m.b4),o.Y36(l.F0),o.Y36(v.r))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],features:[o._Bn([m.ez])],decls:19,vars:11,consts:[[1,"surface-ground","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"flex","flex-column","align-items-center","justify-content-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"],[1,"surface-card","py-8","px-5","sm:px-8",2,"border-radius","53px"],[1,"mb-5","flex","flex-column","align-items-center","justify-content-center"],["alt","kolosu-logo",1,"mb-5","w-15rem","flex-shrink-0",3,"src"],[1,"text-900","text-2xl","font-medium"],[3,"value","enableService","valueChange"],[3,"formGroup","submit"],["class","flex flex-column align-items-center loading-indicator ",4,"ngIf"],[1,"flex","flex-column","align-items-center"],["formControlName","usuario","type","text","placeholder","Correo","pInputText","",1,"w-full","md:w-30rem","mb-5",2,"padding","1rem"],[4,"ngIf"],["formControlName","password","placeholder","Contrase\xf1a","styleClass","w-full md:w-30rem mb-5","inputStyleClass","p-3",3,"toggleMask","feedback"],["pButton","","pRipple","","label","Iniciar sesi\xf3n","type","submit",1,"w-full","p-3","text-xl",3,"disabled"],["pButton","","pRipple","","type","button","label","Cancelar",1,"w-full","p-3","text-xl","p-button-secondary",3,"routerLink"],[1,"flex","flex-column","align-items-center","loading-indicator"],[1,"flex","flex-column","card-container","green-container"],[1,"loading-border"],[1,"flex","align-items-center","justify-content-center","h-4rem"],["styleClass","custom-spinner","strokeWidth","10","animationDuration",".5s"],[1,"loading-text","flex","align-items-center","justify-content-center","h-4rem"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),o._UZ(5,"img",5),o.TgZ(6,"span",6),o._uU(7,"Inicia sesi\xf3n para continuar"),o.qZA()(),o.TgZ(8,"p-messages",7),o.NdJ("valueChange",function(g){return r.msgs1=g}),o.qZA(),o.TgZ(9,"form",8),o.NdJ("submit",function(){return r.IniciarSesion()}),o.YNc(10,L,7,3,"div",9),o.TgZ(11,"div",10),o._UZ(12,"input",11),o.YNc(13,M,2,0,"span",12),o._UZ(14,"p-password",13),o.YNc(15,I,2,0,"span",12),o._UZ(16,"button",14)(17,"br")(18,"button",15),o.qZA()()()()()()),2&t&&(o.xp6(5),o.MGl("src","assets/logos/","light"===r.layoutService.config.colorScheme?"logo-dark2":"logo-white2",".png",o.LSH),o.xp6(3),o.Q6J("value",r.msgs1)("enableService",!1),o.xp6(1),o.Q6J("formGroup",r.form),o.xp6(1),o.Q6J("ngIf",r.loading),o.xp6(3),o.Q6J("ngIf",null==r.form.controls.usuario.errors?null:r.form.controls.usuario.errors.maxlength),o.xp6(1),o.Q6J("toggleMask",!0)("feedback",!1),o.xp6(1),o.Q6J("ngIf",null==r.form.controls.password.errors?null:r.form.controls.password.errors.maxlength),o.xp6(1),o.Q6J("disabled",r.form.invalid),o.xp6(2),o.Q6J("routerLink","/"))},dependencies:[u.O5,l.rH,d.Hq,c.o,i._Y,i.Fj,i.JJ,i.JL,f.ro,C.V,y.H,b.G,i.sg,i.u],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     input, [_nghost-%COMP%]     p-password input{font-size:16px;padding:1rem;width:100%;box-sizing:border-box;border:1px solid #ccc;border-radius:4px}[_nghost-%COMP%]     p-password{width:100%;max-width:30rem}[_nghost-%COMP%]     .p-password{display:flex;align-items:center}[_nghost-%COMP%]     .p-password .p-inputtext{flex-grow:1}[_nghost-%COMP%]     .p-password .p-password-icon{margin-left:-2rem;cursor:pointer}[_nghost-%COMP%]     .mb-5{margin-bottom:1.25rem}','[_nghost-%COMP%]     .pi-eye, [_nghost-%COMP%]     .pi-eye-slash{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}.loading-indicator[_ngcontent-%COMP%]{position:fixed;z-index:999;height:2em;width:2em;overflow:show;margin:auto;inset:0}.loading-indicator[_ngcontent-%COMP%]:before{content:"";display:block;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000096}.loading-text[_ngcontent-%COMP%]{color:#000!important}.loading-border[_ngcontent-%COMP%]{background-color:#fff;width:310px;height:150px;z-index:998;padding:20px;border-radius:5px;border:0}']}),e})(),O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[l.Bz.forChild([{path:"",component:Z}]),l.Bz]}),e})();var J=n(1989),S=n(6604);let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[u.ez,O,d.hJ,J.nD,c.j,i.u5,f.gz,S.W,i.UX]}),e})()}}]);